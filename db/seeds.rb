# This file should contain all the record creation needed to seed the database with its default values.
# The data can then be loaded with the bin/rails db:seed command (or created alongside the database with db:setup).

glass_data  = [
    {
        brand_name: "guess",
        model_no: "GU2469 TL",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "guess",
        model_no: "GU2563 049",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "guess",
        model_no: "GU2635 068",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "guess",
        model_no: "GU2537 092",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "guess",
        model_no: "GU2642 091",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "guess",
        model_no: "GU2628 041",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "guess",
        model_no: "GU2567 082",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "guess",
        model_no: "GU1927 091",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "guess",
        model_no: "GU2541 074",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "guess",
        model_no: "GU2541 041",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "guess",
        model_no: "GU1964 097",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "carrera",
        model_no: "CARRERA 138V 003",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "carrera",
        model_no: "CARRERA 203G 086",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "carrera",
        model_no: "CARRERA 8836 R81",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "carrera",
        model_no: "CA 6626 R80",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "carrera",
        model_no: "CARRERA 1110 J5G",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "carrera",
        model_no: "CARRERA 144V 807",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "carrera",
        model_no: "CA 5529 99L",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "carrera",
        model_no: "CARRERA 205 AU2",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "carrera",
        model_no: "CARRERA 138V 4IN",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "carrera",
        model_no: "CARRERA 227G 807",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "carrera",
        model_no: "CARRERA 8849 VZH",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "carrera",
        model_no: "CARRERA 145V 063",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "carrera",
        model_no: "CARRERA 8838 003",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "carrera",
        model_no: "CA 6639 807",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "carrera",
        model_no: "CARRERA 4406V 003",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "carrera",
        model_no: "CARRERA 2019T 807",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "emporio",
        model_no: "EA 3185 5877",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "emporio",
        model_no: "EA 3188U 5001",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "emporio",
        model_no: "EA 3190 5410",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "emporio",
        model_no: "EA 3204 5077",
        has_colors:  false,
        colors:  ""
    },
    {
        brand_name: "optica",
        model_no: "4610",
        has_colors:  true,
        colors: "C1|C3|C2"
    },
    {
        brand_name: "optica",
        model_no: "T1870",
        has_colors:  true,
        colors: "C1|C3"
    },
    {
        brand_name: "optica",
        model_no: "C8025",
        has_colors:  true,
        colors: "C1|C3"
    },
    {
        brand_name: "optica",
        model_no: "409",
        has_colors:  true,
        colors: "C1|C2|C4"
    },
    {
        brand_name: "optica",
        model_no: "T1021",
        has_colors:  true,
        colors: "C3"
    },
    {
        brand_name: "optica",
        model_no: "611",
        has_colors:  true,
        colors: "C1|C6"
    },
    {
        brand_name: "optica",
        model_no: "6016",
        has_colors:  true,
        colors: "C8|C3"
    },
    {
        brand_name: "optica",
        model_no: "6208",
        has_colors:  true,
        colors: "C8|C4"
    },
    {
        brand_name: "optica",
        model_no: "3956",
        has_colors:  true,
        colors: "c1|c4"
    },
    {
        brand_name: "optica",
        model_no: "C6103",
        has_colors:  true,
        colors: "C1|C2"
    },
    {
        brand_name: "optica",
        model_no: "C8091",
        has_colors:  true,
        colors: "C1"
    },
    {
        brand_name: "optica",
        model_no: "3955",
        has_colors:  true,
        colors: "C1|C4"
    },
    {
        brand_name: "optica",
        model_no: "T1018",
        has_colors:  true,
        colors: "C4"
    },
    {
        brand_name: "optica",
        model_no: "RD2921",
        has_colors:  true,
        colors: "C1|C4"
    },
    {
        brand_name: "optica",
        model_no: "TR1938",
        has_colors:  true,
        colors: "C6"
    },
    {
        brand_name: "optica",
        model_no: "T1003",
        has_colors:  true,
        colors: "C6"
    },
    {
        brand_name: "optica",
        model_no: "RD2902",
        has_colors:  true,
        colors: "C1|C4|C5"
    },
    {
        brand_name: "optica",
        model_no: "6002",
        has_colors:  true,
        colors: "C2|C4"
    },
    {
        brand_name: "optica",
        model_no: "400",
        has_colors:  true,
        colors: "C2|C4"
    },
    {
        brand_name: "optica",
        model_no: "2306",
        has_colors:  true,
        colors: "C2"
    },
    {
        brand_name: "optica",
        model_no: "RD2916",
        has_colors:  true,
        colors: "C1|C4"
    },
    {
        brand_name: "optica",
        model_no: "4603",
        has_colors:  true,
        colors: "C1|C3"
    },
    {
        brand_name: "optica",
        model_no: "C6105",
        has_colors:  true,
        colors: "C1|C3|C2"
    },
    {
        brand_name: "optica",
        model_no: "666",
        has_colors:  true,
        colors: "C3|C2|C4"
    },
    {
        brand_name: "optica",
        model_no: "T1017",
        has_colors:  true,
        colors: "C1|C8"
    },
    {
        brand_name: "optica",
        model_no: "C6253",
        has_colors:  true,
        colors: "C1|C3"
    },
    {
        brand_name: "optica",
        model_no: "6019",
        has_colors:  true,
        colors: "C6|C5"
    },
    {
        brand_name: "optica",
        model_no: "T1015",
        has_colors:  true,
        colors: "C6|C3"
    },
    {
        brand_name: "optica",
        model_no: "C8086",
        has_colors:  true,
        colors: "C3|C2"
    },
    {
        brand_name: "optica",
        model_no: "419",
        has_colors:  true,
        colors: "C1|C3"
    },
    {
        brand_name: "optica",
        model_no: "4599",
        has_colors:  true,
        colors: "C1|C2"
    },
    {
        brand_name: "optica",
        model_no: "662",
        has_colors:  true,
        colors: "c3|c1"
    },
    {
        brand_name: "optica",
        model_no: "RD2904",
        has_colors:  true,
        colors: "C2"
    },
    {
        brand_name: "optica",
        model_no: "410",
        has_colors:  true,
        colors: "C1|C4|C5"
    },
    {
        brand_name: "optica",
        model_no: "2179",
        has_colors:  true,
        colors: "C6"
    },
    {
        brand_name: "cactus",
        model_no: "62010",
        has_colors:  true,
        colors: "C1|C2|C4"
    },
    {
        brand_name: "cactus",
        model_no: "T1013",
        has_colors:  true,
        colors: "C1|C4"
    },
    {
        brand_name: "cactus",
        model_no: "T6005",
        has_colors:  true,
        colors: "C3"
    },
    {
        brand_name: "oxygene",
        model_no: "YS9003",
        has_colors:  true,
        colors: "C3"
    },
    {
        brand_name: "oxygene",
        model_no: "YS9001",
        has_colors:  true,
        colors: "C3|C2"
    },
    {
        brand_name: "oxygene",
        model_no: "2363",
        has_colors:  true,
        colors: "C8"
    },
    {
        brand_name: "raycloud",
        model_no: "2616",
        has_colors:  true,
        colors: "C1|C2|C5"
    },
    {
        brand_name: "raycloud",
        model_no: "2600",
        has_colors:  true,
        colors: "C2|C4|C5"
    },
    {
        brand_name: "raycloud",
        model_no: "2602",
        has_colors:  true,
        colors: "C2|C4|C5"
    },
    {
        brand_name: "raycloud",
        model_no: "2601",
        has_colors:  true,
        colors: "C1|C2|C5"
    },
    {
        brand_name: "raycloud",
        model_no: "2623",
        has_colors:  true,
        colors: "C2|C5"
    },
    {
        brand_name: "tv",
        model_no: "17060",
        has_colors:  true,
        colors: "C01|C05"
    },
    {
        brand_name: "tv",
        model_no: "17073",
        has_colors:  true,
        colors: "C04"
    },
    {
        brand_name: "tv",
        model_no: "PTE2135",
        has_colors:  true,
        colors: "C3|C2"
    },
    {
        brand_name: "tv",
        model_no: "17009",
        has_colors:  true,
        colors: "C07"
    },
    {
        brand_name: "tv",
        model_no: "17075",
        has_colors:  true,
        colors: "C1|C3"
    },
    {
        brand_name: "tv",
        model_no: "PL248",
        has_colors:  true,
        colors: "C01|C3|C2"
    },
    {
        brand_name: "tv",
        model_no: "17010",
        has_colors:  true,
        colors: "C01"
    },
    {
        brand_name: "tv",
        model_no: "3540",
        has_colors:  true,
        colors: "C01"
    },
    {
        brand_name: "tv",
        model_no: "7004",
        has_colors:  true,
        colors: "C3"
    },
    {
        brand_name: "tv",
        model_no: "AK17157",
        has_colors:  true,
        colors: "C06"
    },
    {
        brand_name: "tv",
        model_no: "17070",
        has_colors:  true,
        colors: "C5"
    },
    {
        brand_name: "tv",
        model_no: "AK17109",
        has_colors:  true,
        colors: "C4|C05"
    },
    {
        brand_name: "tv",
        model_no: "17026",
        has_colors:  true,
        colors: "C04|C03"
    },
    {
        brand_name: "tv",
        model_no: "AK17098",
        has_colors:  true,
        colors: "C03"
    },
    {
        brand_name: "tv",
        model_no: "17051",
        has_colors:  true,
        colors: "C01"
    },
    {
        brand_name: "tv",
        model_no: "4250",
        has_colors:  true,
        colors: "C1"
    },
    {
        brand_name: "tv",
        model_no: "17050",
        has_colors:  true,
        colors: "C01|C05"
    },
    {
        brand_name: "sunglass",
        model_no: "7902",
        has_colors:  false,
        colors: ""
    },
    {
        brand_name: "sunglass",
        model_no: "7906",
        has_colors:  false,
        colors: ""
    },
    {
        brand_name: "sunglass",
        model_no: "7909",
        has_colors:  false,
        colors: ""
    },
    {
        brand_name: "sunglass",
        model_no: "LE 7003",
        has_colors:  false,
        colors: ""
    },
    {
        brand_name: "sunglass",
        model_no: "SG 817",
        has_colors:  false,
        colors: ""
    },
    {
        brand_name: "sunglass",
        model_no: "SG 817 4500",
        has_colors:  false,
        colors: ""
    },
]

glass_data = glass_data.map do |glass|
    glass[:price] = rand(2000..8000)
    glass[:frame_size] = ["Small", "Medium", "Large"].sample
    glass[:lens_width] = ["Below 51mm", "51mm - 54mm", "Above 54mm"].sample
    glass
end

Glass.create(glass_data)

User.create({
    name: "Joseph Wamiti",
    email: "josephwamiti@gmail.com",
    password: "password",
    is_admin: true
})

10.times do
    name = Faker::Name.name_with_middle
    User.create({
        name: name,
        email: name.split(" ").map {|nm| nm.downcase}.join("")+"@"+Faker::Internet.domain_name,
        password: "password",
        is_admin: 0,
    })
end

number_of_glasses = Glass.count
modes_of_payment = ["MPesa", "Paypal", "Pesapal", "Cash", "Skrill"]
colors = ["C1", "C2", "C3", "C4", "C5", "C6", "C7", "C8", "C9"]

650.times do
    Sale.create({
        glass_id: rand(1..number_of_glasses),
        color: colors.sample,
        user_id: rand(2..11),
        mode_of_payment: modes_of_payment.sample
    })
end

# Review
#     title
#     rating
#     name
#     email
#     conten

Sale.all.map {|sale| { brand: sale.glass.brand_name, selling_price: sale.glass.price } }.reduce({}) do |acc, curr|
    if acc[curr.keys[0]]
        acc[curr.keys[0]] = acc[curr.keys[0]] + curr[:selling_price]
    else
        acc[curr.keys[0]] = curr[:selling_price]
    end
    acc
end
    
